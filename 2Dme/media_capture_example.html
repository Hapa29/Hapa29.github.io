
<!doctype html>
<html>
  <head>
    <title>Record Audio</title>
    <script src="lib/jquery.js"></script>
    <script src="lib/two.js"></script>
    <style>
      .assets { display: none; }
    </style>
  </head>
  <body>
    <video autoplay></video>

    <script>
        function hasGetUserMedia(){
          return !!(navigator.hasGetUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);
        }

        if (hasGetUserMedia()){
          var errorCallback = function(e){
            console.log('Rejected',e);
          };

          navigator.getUserMedia  = navigator.getUserMedia ||
                          navigator.webkitGetUserMedia ||
                          navigator.mozGetUserMedia ||
                          navigator.msGetUserMedia;

          var video = document.querySelector('video');

          if (navigator.getUserMedia) {
            navigator.getUserMedia({audio: true, video: true}, function(stream) {
              video.src = window.URL.createObjectURL(stream);
            }, errorCallback);
          } else {
            video.src = 'somevideo.webm'; // fallback.
          }

        }else{
            alert('getUserMedia() is not supported in your browser');
        }
    </script>
  </body>
</html>